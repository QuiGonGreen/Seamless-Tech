<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scholar AI - Seamless Tech</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/ai-interface.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* VS Code-inspired Purple and Gold Theme */
        :root {
            --vscode-purple: #2a0066;
            --vscode-gold: #ffd700;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <main class="ai-interface-container">
            <!-- Sidebar with AI risk reminder cards -->
            <div class="ai-sidebar">
                <div class="ai-logo">
                    <h2>Scholar AI</h2>
                </div>
                
                <div class="risk-cards">
                    <div class="risk-card">
                        <h3><i class="fas fa-exclamation-triangle"></i> Accuracy Notice</h3>
                        <p>AI may provide incorrect or incomplete information. Always verify critical information with trusted sources.</p>
                    </div>
                    
                    <div class="risk-card">
                        <h3><i class="fas fa-balance-scale"></i> Bias Awareness</h3>
                        <p>AI responses can reflect biases present in training data. Consider multiple perspectives.</p>
                    </div>
                    
                    <div class="risk-card">
                        <h3><i class="fas fa-shield-alt"></i> Data Privacy</h3>
                        <p>Do not share sensitive personal information as your conversations may be retained for AI improvement.</p>
                    </div>
                    
                    <div class="risk-card">
                        <h3><i class="fas fa-brain"></i> Critical Thinking</h3>
                        <p>AI is a tool, not a replacement for human judgment. Always apply your own reasoning.</p>
                    </div>
                </div>
            </div>
            
            <!-- Main content area with the iframe - simplified -->
            <div class="ai-main">
                <!-- Removed overlay divs, keeping it simple -->
                <iframe id="copilot-agent-frame" 
                    src="https://copilotstudio.microsoft.com/environments/Default-8fc571aa-06d7-4bb5-87d7-27e923366e36/bots/crc7a_bibliaeScholaris/webchat?__version__=2" 
                    frameborder="0"
                    style="
                        width: 100%;
                        height: 100%;
                        border: none;
                        background-color: #2a0066;
                    "
                    title="Copilot Agent">
                </iframe>
            </div>
        </main>
    </div>
    
    <!-- Simplified script for iframe styling -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const iframe = document.getElementById('copilot-agent-frame');
            
            // Show simple loading indicator
            const aiMain = document.querySelector('.ai-main');
            const loadingElement = document.createElement('div');
            loadingElement.style.position = 'absolute';
            loadingElement.style.top = '0';
            loadingElement.style.left = '0';
            loadingElement.style.width = '100%';
            loadingElement.style.height = '100%';
            loadingElement.style.display = 'flex';
            loadingElement.style.alignItems = 'center';
            loadingElement.style.justifyContent = 'center';
            loadingElement.style.backgroundColor = '#2a0066';
            loadingElement.style.color = '#ffd700';
            loadingElement.style.zIndex = '10';
            
            loadingElement.textContent = 'Loading Scholar AI...';
            
            aiMain.appendChild(loadingElement);
            
            // Handle iframe load event
            iframe.addEventListener('load', function() {
                // Remove loading indicator
                if (loadingElement) {
                    loadingElement.remove();
                }
                
                try {
                    // Direct styling of iframe content - should work now that you've moved to Azure
                    const iframeDocument = iframe.contentDocument || iframe.contentWindow.document;
                    
                    // Create style element with simplified styling
                    const styleElement = document.createElement('style');
                    styleElement.textContent = `
                        body, html { 
                            background-color: #2a0066 !important;
                        }
                        
                        * {
                            color: #ffd700 !important;
                            font-family: 'Consolas', 'Courier New', monospace !important;
                        }
                        
                        input, textarea {
                            background-color: #3c0095 !important;
                            border: 1px solid #ffd700 !important;
                        }
                        
                        button {
                            background-color: #3c0095 !important;
                            border: 1px solid #ffd700 !important;
                        }
                    `;
                    
                    // Apply the style to the iframe document
                    iframeDocument.head.appendChild(styleElement);
                    
                } catch (e) {
                    console.log('Error styling iframe content:', e);
                }
            });
        });
    </script>
</body>
</html>
